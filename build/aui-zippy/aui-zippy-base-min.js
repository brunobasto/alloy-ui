AUI.add("aui-zippy-base",function(r){var W=r.Lang,H=W.isBoolean,O=W.isObject,u=W.isUndefined,i=function(A){return(A instanceof r.Node);},C="-",x=".",M="",F="px",a=" ",G="animated",D="bindDOMEvents",Q="click",s="collapsed",P="content",E="down",c="enter",m="esc",d="expanded",o="expandedChange",l="getBoundingClientRect",J="header",R="helper",V="keydown",z="left",k="linear",q="marginTop",p="minus",t="num_minus",B="num_plus",w="plus",S="right",a="space",T="transition",j="transitionEnd",f="transitionStart",v="up",U="wrapper",b="zippy",h=r.getClassName,g=h(b,s),L=h(b,P),K=h(b,P,U),y=h(b,d),n=h(b,J),e={"false":g,"true":y},N='<div class="'+K+'"></div>';var I=r.Component.create({NAME:b,ATTRS:{animated:{validator:H,value:false,writeOnce:true},bindDOMEvents:{validator:H,value:true,writeOnce:true},content:{setter:r.one},expanded:{validator:H,value:true},header:{setter:r.one},transition:{validator:O,value:{duration:0.1,easing:k}}},EXTENDS:r.Base,headerEventHandler:function(X,A){if(X.type===Q||X.isKey(c)||X.isKey(a)){X.preventDefault();return A.toggle();}else{if(X.isKey(E)||X.isKey(S)||X.isKey(B)){X.preventDefault();return A.expand();}else{if(X.isKey(v)||X.isKey(z)||X.isKey(m)||X.isKey(t)){X.preventDefault();return A.collapse();}}}},prototype:{initializer:function(){var A=this;A.bindUI();A.syncUI();A._uiSetAnimated(A.get(G));A._uiSetExpanded(A.get(d));},bindUI:function(){var A=this;var X=A.get(J);X.setData(b,A);A.on(o,r.bind(A._onExpandedChange,A));if(A.get(D)){X.on([Q,V],r.rbind(I.headerEventHandler,null,A));}},syncUI:function(){var A=this;A.get(P).addClass(L);A.get(J).addClass(n);},animate:function(X,Y){var A=this;A._uiSetExpanded(true);var Z=r.merge(X,A.get(T));A.get(P).transition(Z,r.bind(Y,A));},collapse:function(){var A=this;return A.toggle(false);},expand:function(){var A=this;return A.toggle(true);},getContentHeight:function(){var X=this;var aa=X.get(P);var Z=X.get(d),A;if(!Z){X._uiSetExpanded(true);}if(aa.hasMethod(l)){var Y=aa.invoke(l);if(Y){A=Y.bottom-Y.top;}}else{A=aa.get(OFFSET_HEIGHT);}if(!Z){X._uiSetExpanded(false);}return A;},toggle:function(X){var A=this;if(u(X)){X=!A.get(d);}if(A.get(G)){A.animate({marginTop:X?0:A.getContentHeight()*-1+F},function(){A.set(d,X);});}else{A.set(d,X);}return X;},_onExpandedChange:function(X){var A=this;A._uiSetExpanded(X.newVal);},_uiSetAnimated:function(X){var A=this;if(X){A.get(P).wrap(N);}},_uiSetExpanded:function(X){var A=this;A.get(P).replaceClass(e[!X],e[X]);}}});r.Zippy=I;},"@VERSION@",{skinnable:true,requires:["aui-base","transition"]});