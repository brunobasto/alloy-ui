AUI.add("aui-zippy-delegate",function(t){var e=t.Lang,m=e.isBoolean,n=e.isObject,p=e.isString,B=t.Array,b=t.config.doc,u=t.Zippy,z="-",x=".",F="",l=" ",o="animated",f="click",q="closeAllOnExpand",v="container",h="content",w="cubic-bezier",j="expanded",a="firstChild",y="header",d="keydown",k="linear",D="transition",g="wrapper",E="zippy",r="zippy:animatingChange",s="zippy-delegate",C=t.getClassName,c=C(E,h,g);var i=t.Component.create({NAME:s,ATTRS:{animated:{validator:m,value:false,writeOnce:true},closeAllOnExpand:{validator:m,value:false},container:{setter:t.one,value:b},content:{validator:p},expanded:{validator:m,value:true},header:{validator:p},transition:{validator:n,value:{duration:0.4,easing:w}}},EXTENDS:t.Base,prototype:{items:null,initializer:function(){var A=this;A.bindUI();A.renderUI();},renderUI:function(){var A=this;if(A.get(q)){A.items=[];A.get(v).all(A.get(y)).each(function(G){A.items.push(A._create(G));});}},bindUI:function(){var A=this;var G=A.get(v);var H=A.get(y);A.on(r,t.bind(A._onAnimatingChange,A));G.delegate([f,d],t.bind(A.headerEventHandler,A),H);},findContentNode:function(J){var G=this;var H=G.get(h);var A=J.next(H)||J.one(H);if(!A){var I=J.next(x+c);if(I){A=I.get(a);}}return A;},headerEventHandler:function(H){var A=this;if(A.animating){return false;}var I=H.currentTarget;var G=I.getData(E)||A._create(I);if(u.headerEventHandler(H,G)&&A.get(q)){B.each(A.items,function(K,J,L){if(K!==G&&K.get(j)){K.collapse();}});}},_create:function(H){var A=this;var G=new u({animated:A.get(o),bindDOMEvents:false,bubbleTargets:[A],content:A.findContentNode(H),expanded:A.get(j),header:H,transition:A.get(D)});return G;},_onAnimatingChange:function(G){var A=this;A.animating=G.newVal;}}});t.ZippyDelegate=i;},"@VERSION@",{skinnable:false,requires:["aui-zippy-base"]});