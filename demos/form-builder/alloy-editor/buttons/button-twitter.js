YUI.add("button-twitter",function(t){"use strict";var e=t.Lang,i=t.Base.create("tweet",t.Plugin.Base,[t.ButtonBase],{initializer:function(){var t,e;t=this.get("dataType"),e=this.get("host").get("editor"),this._ckLink=new CKEDITOR.Link(e)},updateUI:function(){var t,e,i,a;e=this.get("host").get("editor"),i=e.elementPath(),a=this._style.checkActive(i,e),t=i.lastElement.data("type"),this._button.set("pressed",!!a&&t===this.get("dataType"))},_onClick:function(t){var i,a,s,n,r,l,o;i=t.target,a=this.get("host").get("editor"),i.get("pressed")?(l='"'+a.getSelection().getSelectedText()+'"',r=this.get("tweetLink"),o=this.get("tweetURL"),o=e.sub(o,{text:encodeURIComponent(l),url:encodeURIComponent(r)}),n=this.get("tweetAuthor"),n&&(o+=e.sub(this.get("tweetURLVia"),{via:n})),s=e.sub(this.TPL_TOOLTIP,{text:l,url:r,via:n?"via @"+n:""}),this._ckLink.create(o,{"class":"alloy-editor-twitter-link","data-cke-tooltip":s,"data-type":this.get("dataType"),target:"_blank"})):this._ckLink.remove()},TPL_CONTENT:'<i class="alloy-editor-icon-twitter"></i>',TPL_TOOLTIP:"{text} {url} {via}"},{ATTRS:{dataType:{validator:e.isString,value:"twitter-link"},element:{validator:e.isString,value:"a"},strings:{validator:e.isObject,value:{label:"Tweet"}},tweetAuthor:{validator:e.isString,value:""},tweetLink:{validator:e.isString,value:""},tweetURL:{validator:e.isString,value:"https://twitter.com/intent/tweet?text={text}&url={url}"},tweetURLVia:{validator:e.isString,value:"&via={via}"}},NAME:"tweet",NS:"tweet"});t.ButtonTwitter=i},"",{requires:["button-base"]});